{"remainingRequest":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode\\glkt\\vue-mobile\\src\\views\\myCourse.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode\\glkt\\vue-mobile\\src\\views\\myCourse.vue","mtime":1638838456000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBvcmRlckFwaSBmcm9tICdAL2FwaS9vcmRlcicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJPcmRlciIsCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICAgICAgICByZWZyZXNoaW5nOiBmYWxzZSwKCiAgICAgICAgICAgIHBhZ2VObzogMSwKICAgICAgICAgICAgcGFnZVNpemU6IDUsCiAgICAgICAgICAgIHBhZ2VzOiAxLAogICAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH07CiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy8gdGhpcy5mZXRjaERhdGEoKTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIG9uTG9hZCgpIHsKICAgICAgICAgICAgaWYoIXRoaXMuaXNMb2FkaW5nKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgb25SZWZyZXNoKCkgewogICAgICAgICAgICAvLyDmuIXnqbrliJfooajmlbDmja4KICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOwoKICAgICAgICAgICAgdGhpcy5wYWdlTm8gPSAxOwogICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgICAgIH0sCgogICAgICAgIGZldGNoRGF0YSgpIHsKICAgICAgICAgICAgb3JkZXJBcGkuZmluZENvdXJzZUxpc3RQYWdlKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVmcmVzaGluZykgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8cmVzcG9uc2UuZGF0YS5yZWNvcmRzLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QucHVzaChyZXNwb25zZS5kYXRhLnJlY29yZHNbaV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMucGFnZXMgPSByZXNwb25zZS5kYXRhLnBhZ2VzOwoKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYodGhpcy5wYWdlTm8gPj0gdGhpcy5wYWdlcykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMucGFnZU5vKys7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgc2VlKGNvdXJzZUlkKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9wbGF5LycrY291cnNlSWQrJy8wJyB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["myCourse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"myCourse.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <van-image width=\"100%\" height=\"200\" src=\"https://cdn.uviewui.com/uview/swiper/1.jpg\"/>\n        <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n            <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" offset=\"10\" @load=\"onLoad\">\n                <van-card\n                        v-for=\"(item,index) in list\" :key=\"index\"\n                        :price=\"item.finalAmount\"\n                        :title=\"item.courseName\"\n                        :desc=\"'总时长：'+item.durationSum+'分钟'\"\n                        :thumb=\"item.cover\"\n                >\n                    <template #tags>\n                        <br/>\n                        <van-progress :percentage='item.progress' />\n                    </template>\n                    <template #footer>\n                        <van-button size=\"mini\" @click=\"see(item.courseId)\">去观看</van-button>\n                    </template>\n                </van-card>\n            </van-list>\n            <!-- offset：滚动条与底部距离小于 offset 时触发load事件 默认300，因此要改小，否则首次进入一直触发  -->\n<!--            <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" offset=\"10\" @load=\"onLoad\">-->\n<!--                <ul class=\"list\">-->\n<!--                    <li v-for=\"(item,index) in list\" :key=\"index\">-->\n<!--                        <van-image :src=\"item.cover\" round width=\"100%\" height=\"50px\" />-->\n<!--                        <h1 class=\"van-ellipsis\">{{ item.courseName }}</h1>-->\n<!--                        <div class=\"list-box\">-->\n<!--                            <ul>-->\n<!--                                <li>观看进度：</li>-->\n<!--                                <li><van-progress :percentage='item.progress' /></li>-->\n<!--                                <li><span style=\"color:red;\">￥{{ item.finalAmount }}</span></li>-->\n<!--                            </ul>-->\n<!--                            <br/>-->\n<!--                            <p>-->\n<!--                                <van-button @click=\"see(item.courseId)\" type=\"info\" size=\"mini\">去观看</van-button>-->\n<!--                            </p>-->\n<!--                        </div>-->\n<!--                    </li>-->\n<!--                </ul>-->\n<!--            </van-list>-->\n        </van-pull-refresh>\n    </div>\n\n</template>\n\n<script>\nimport orderApi from '@/api/order'\n\nexport default {\n    name: \"Order\",\n\n    data() {\n        return {\n            loading: false,\n            finished: false,\n            refreshing: false,\n\n            pageNo: 1,\n            pageSize: 5,\n            pages: 1,\n            list: []\n        };\n    },\n\n    created() {\n        // this.fetchData();\n    },\n\n    methods: {\n        onLoad() {\n            if(!this.isLoading) {\n                this.fetchData();\n            }\n        },\n\n        onRefresh() {\n            // 清空列表数据\n            this.finished = false;\n\n            this.pageNo = 1;\n            this.fetchData();\n        },\n\n        fetchData() {\n            orderApi.findCourseListPage(this.pageNo, this.pageSize).then(response => {\n                console.log(response.data);\n                if (this.refreshing) {\n                    this.list = [];\n                    this.refreshing = false;\n                }\n                for (let i=0;i<response.data.records.length;i++) {\n                    this.list.push(response.data.records[i]);\n                }\n\n                this.pages = response.data.pages;\n\n                this.loading = false;\n                if(this.pageNo >= this.pages) {\n                    this.finished = true;\n                }\n\n                this.pageNo++;\n            })\n        },\n\n        see(courseId) {\n            this.$router.push({ path: '/play/'+courseId+'/0' })\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .list {\n        li {\n            margin: 10px;\n            padding-bottom: 5px;\n            border-bottom: 1px solid #e5e5e5;\n            h1 {\n                font-size: 20px;\n            }\n            .list-box {\n                display: flex;\n                font-size: 14px;\n                ul {\n                    flex: 1;\n                    margin: 0;\n                    li {\n                        margin: 5px 0;\n                        border-bottom: none;\n                    }\n                }\n                p {\n                    margin: 0;\n                    width: 50px;\n                    align-items: center;\n                    align-self: flex-end;\n                }\n            }\n        }\n    }\n</style>\n\n"]}]}