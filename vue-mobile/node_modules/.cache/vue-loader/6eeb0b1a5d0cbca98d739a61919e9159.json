{"remainingRequest":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode\\ggkt\\vue-mobile\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode\\ggkt\\vue-mobile\\src\\App.vue","mtime":1652186297869},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VySW5mb0FwaSBmcm9tICdAL2FwaS91c2VySW5mbycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgfTsKICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgICAvLyDlpITnkIblvq7kv6HmjojmnYPnmbvlvZUKICAgICAgIC8vIHRoaXMud2VjaGF0TG9naW4oKTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIHdlY2hhdExvZ2luKCkgewogICAgICAgICAgICAvLyDlpITnkIblvq7kv6HmjojmnYPnmbvlvZUKICAgICAgICAgICAgbGV0IHRva2VuID0gdGhpcy5nZXRRdWVyeVN0cmluZygndG9rZW4nKSB8fCAnJzsKICAgICAgICAgICAgaWYodG9rZW4gIT0gJycpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOaJgOaciemhtemdoumDveW/hemhu+eZu+W9le+8jOS4pOasoeiwg+aVtOeZu+W9le+8jOi/memHjOS4juaOpeWPo+i/lOWbnjIwOOeKtuaAgQogICAgICAgICAgICB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJzsKICAgICAgICAgICAgaWYgKHRva2VuID09ICcnKSB7CiAgICAgICAgICAgICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgnIycsICdndWlndWtldGFuJykKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICdodHRwOi8vZ2drdC52aXBnejEuOTF0dW5uZWwuY29tL2FwaS91c2VyL3dlY2hhdC9hdXRob3JpemU/cmV0dXJuVXJsPScgKyB1cmwKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZygndG9rZW4y77yaJyt3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpOwoKICAgICAgICAgICAgLy/nu5HlrprmiYvmnLrlj7flpITnkIYKICAgICAgICAgICAgLy8gaWYodG9rZW4gIT0gJycpIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuYmluZFBob25lKCk7CiAgICAgICAgICAgIC8vIH0KICAgICAgICB9LAoKICAgICAgICBiaW5kUGhvbmUoKSB7CiAgICAgICAgICAgIGxldCB1c2VySW5mb1N0cmluZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSB8fCAnJzsKICAgICAgICAgICAgYWxlcnQoJzM6Jyt1c2VySW5mb1N0cmluZyk7CiAgICAgICAgICAgIGlmKHVzZXJJbmZvU3RyaW5nIT0nJykgewogICAgICAgICAgICAgICAgYWxlcnQoJzQ6Jyt1c2VySW5mb1N0cmluZyk7CiAgICAgICAgICAgICAgICBsZXQgdXNlckluZm8gPSBKU09OLnBhcnNlKHVzZXJJbmZvU3RyaW5nKQogICAgICAgICAgICAgICAgbGV0IHBob25lID0gdXNlckluZm8ucGhvbmUgfHwgJyc7CiAgICAgICAgICAgICAgICBpZihwaG9uZSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9iaW5kRmlyc3QnIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgnNTonK3VzZXJJbmZvU3RyaW5nKTsKICAgICAgICAgICAgICAgIHVzZXJJbmZvQXBpLmdldEN1cnJlbnRVc2VySW5mbygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJzY6JytKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBob25lID0gcmVzcG9uc2UuZGF0YS5waG9uZSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGhvbmU6JytwaG9uZSk7CiAgICAgICAgICAgICAgICAgICAgaWYocGhvbmUgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2JpbmRGaXJzdCcgfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgZ2V0UXVlcnlTdHJpbmcgKHBhcmFtTmFtZSkgewogICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgPT0gLTEpIHJldHVybiAnJzsKCiAgICAgICAgICAgIGxldCBzZWFyY2hTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzFdOwogICAgICAgICAgICBsZXQgaSwgdmFsLCBwYXJhbXMgPSBzZWFyY2hTdHJpbmcuc3BsaXQoIiYiKTsKCiAgICAgICAgICAgIGZvciAoaT0wO2k8cGFyYW1zLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIHZhbCA9IHBhcmFtc1tpXS5zcGxpdCgiPSIpOwogICAgICAgICAgICAgICAgaWYgKHZhbFswXSA9PSBwYXJhbU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsWzFdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICB9LAoKICAgICAgICBjbGVhckRhdGEoKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCAnJyk7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCAnJyk7CiAgICAgICAgICAgIGxldCB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgYWxlcnQoJ3Rva2VuOicrdG9rZW4pOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n<!--      <router-link to=\"/\">列表页</router-link> |-->\n<!--      <router-link to=\"/info\">详情页</router-link> |-->\n<!--      <router-link to=\"/list\">列表页</router-link> |-->\n<!--      <router-link to=\"/order\">下单页</router-link>-->\n        <van-button round block type=\"info\" @click=\"clearData\">清空localStorage</van-button>\n    </div>\n    <router-view />\n  </div>\n</template>\n<script>\nimport userInfoApi from '@/api/userInfo'\nexport default {\n    data() {\n        return {\n            show: true\n        };\n    },\n\n    created() {\n        // 处理微信授权登录\n       // this.wechatLogin();\n    },\n\n    methods: {\n        wechatLogin() {\n            // 处理微信授权登录\n            let token = this.getQueryString('token') || '';\n            if(token != '') {\n                window.localStorage.setItem('token', token);\n            }\n\n            // 所有页面都必须登录，两次调整登录，这里与接口返回208状态\n            token = window.localStorage.getItem('token') || '';\n            if (token == '') {\n                let url = window.location.href.replace('#', 'guiguketan')\n                window.location = 'http://ggkt.vipgz1.91tunnel.com/api/user/wechat/authorize?returnUrl=' + url\n            }\n            console.log('token2：'+window.localStorage.getItem('token'));\n\n            //绑定手机号处理\n            // if(token != '') {\n            //     this.bindPhone();\n            // }\n        },\n\n        bindPhone() {\n            let userInfoString = window.localStorage.getItem('userInfo') || '';\n            alert('3:'+userInfoString);\n            if(userInfoString!='') {\n                alert('4:'+userInfoString);\n                let userInfo = JSON.parse(userInfoString)\n                let phone = userInfo.phone || '';\n                if(phone == '') {\n                    this.$router.push({ path: '/bindFirst' })\n                }\n            } else {\n                alert('5:'+userInfoString);\n                userInfoApi.getCurrentUserInfo().then(response => {\n                    window.localStorage.setItem('userInfo', JSON.stringify(response.data));\n                    alert('6:'+JSON.stringify(response.data));\n                    let phone = response.data.phone || '';\n                    console.log('phone:'+phone);\n                    if(phone == '') {\n                        this.$router.push({ path: '/bindFirst' })\n                    }\n                })\n            }\n        },\n\n        getQueryString (paramName) {\n            if(window.location.href.indexOf('?') == -1) return '';\n\n            let searchString = window.location.href.split('?')[1];\n            let i, val, params = searchString.split(\"&\");\n\n            for (i=0;i<params.length;i++) {\n                val = params[i].split(\"=\");\n                if (val[0] == paramName) {\n                    return val[1];\n                }\n            }\n            return '';\n        },\n\n        clearData() {\n            window.localStorage.setItem('token', '');\n            window.localStorage.setItem('userInfo', '');\n            let token = window.localStorage.getItem('token');\n            alert('token:'+token);\n        }\n    }\n};\n</script>\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n"]}]}