{"remainingRequest":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode\\ggkt\\vue-mobile\\src\\views\\liveOnline.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode\\ggkt\\vue-mobile\\src\\views\\liveOnline.vue","mtime":1646639864457},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICAvLyBb56ys5LiA5q2lXSDlpoLkvZXojrflj5YgYWNjZXNzX3Rva2VuID0+IGh0dHA6Ly9vcGVuLnRhbGstZnVuLmNvbS9kb2NzL2dldHN0YXJ0VjIvYWNjZXNzX3Rva2VuLmh0bWwKICAgIC8vIFvnrKzkuozmraVdIOagueaNrkFwaeaWh+aho+aWueazlSDnm5HlkKwgLyDosIPnlKjmlrnms5UgSlMgQXBpID0+IGh0dHA6Ly9vcGVuLnRhbGstZnVuLmNvbS9kb2NzL2pzL3Nkay5qcy5nZXRzdGFydC5odG1sCiAgICB2YXIgdXJsICA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gKCXZhciB0b2tlbiA9IHVybC5zcGxpdCgiPSIpWzFdCglhbGVydCh0b2tlbikKCS8vdmFyIHRva2VuID0gJ1FqTXdjRFp6WW1ZeGN6TmlkRFo1VWpaemNUWTVBVE1rSmpNMkl6WTFNR004eEhmOUp5TXpFVE4xZ2pNZmRETXhRek15RWpJNklTWnRGbWJ5SkNMd29qSWhKQ0xkdGxPaUlIZDBGbUlzWURPNWd6TTJZRE4yRWpPaVVXYnBSM1psSm5Jc0lTTTNnVE4xRVRPelVqSTZJQ1pwaG5Jc016TjRNRE42SUNacEJuSXNBak9pUVdhbkpDTHpNVE0xVURPeW9qSWtsMlhsTm5jMTkyWWl3aUlpb2pJeUZHZGhaWFlpd0NNNklpY2xSbWJsZG1Jc1lETzVBVE54Y0ROMkVqT2lVbWNwQkhlbEpDTDNBVE0wTWpNeG9qSWtsV2J2OW1jaXdpSXhNak0zVUhYM0lUTzFVSFhpb2pJbDFXWXV0MllwNW1Jc0lpY2xOWGRpb2pJbHgyYnlKQ0xpUVROaW9qSWtsV2Rpd3lNM2d6TTBvaklrbDJYeVZtYjBKWFl3SnllJzsKICAgIC8vIOabtOWkmumFjee9rumhuSA9PiBodHRwczovL29wZW4udGFsay1mdW4uY29tL2RvY3MvanMvc2RrLmpzLmdldHN0YXJ0Lmh0bWw/aD0lRTklODUlOEQlRTclQkQlQUUlRTklQTElQjkKICAgIHZhciBIVCA9IG5ldyBNVC5TREsubWFpbih0b2tlbiwgewogICAgICBjb25maWc6IHsKICAgICAgICB0ZWNoT3JkZXI6ICdGTFYnIC8vIFNhZmFyaSDmtY/op4jlmajlu7rorq7orr7nva7kuLogSExTCiAgICAgIH0KICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGNvbnNvbGUud2Fybignc2Rr5Yqg6L295a6M5oiQJywgZGF0YSkKICAgIH0pCiAgICAvLyDov57mjqXnirbmgIEKICAgIEhULm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygnVGFsa0Z1bumAmuS/oSA9PiDov57mjqXmiJDlip8uLi4nKQogICAgfSkKICAgIC8vIOivvuS7tuaSreaUvuWZqAogICAgSFQud2hpdGVib2FyZFBsYXllcigncHB0UGxheWVyJywgJ2RvY1BsYXllcicsIGZ1bmN0aW9uIChwbGF5ZXIpIHsKICAgICAgY29uc29sZS5sb2coJ+ivvuS7tuaSreaUvuWZqCA9PiDliJ3lp4vljJbmiJDlip8nKQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9hZHBsYXllcicpLmlubmVySFRNTCA9ICfnlLvmnb/mqKHlnZfliqDovb3lrozmiJAnCiAgICB9KQogICAgLy8g6KeG6aKR5o+S5pKtIHwg5qGM6Z2i5YiG5LqrCiAgICBIVC52aWRlb1BsYXllcigndmlkZW9QbGF5ZXInLCAnbW9kVmlkZW9wbGF5ZXInLCBmdW5jdGlvbiAocGxheWVyKSB7CiAgICAgIGNvbnNvbGUubG9nKCfop4bpopHmkq3mlL7lmaggPT4g5Yid5aeL5YyW5oiQ5YqfJykKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvYWRwbGF5ZXInKS5pbm5lckhUTUwgPSAn6KeG6aKR5o+S5pKt5Yqg6L295a6M5oiQJwogICAgfSkKICAgIC8vIOaRhOWDj+WktOaSreaUvuWZqAogICAgSFQuY2FtZXJhKCdjYW1lcmFQbGF5ZXInLCAnbW9kQ2FtZXJhUGxheWVyJywgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygn5pGE5YOP5aS05pKt5pS+5ZmoID0+IOWIneWni+WMluaIkOWKnycpCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2FkY2FtJykuaW5uZXJIVE1MID0gJ+aRhOWDj+WktOaooeWdl+WKoOi9veWujOaIkCcKICAgIH0pCiAgICAvLyDmjqXmlLbogYrlpKkKICAgIHZhciByZWNlaXZlZENoYXQgPSBmdW5jdGlvbiAoY2hhdCkgewogICAgICB2YXIgdHBsID0gY2hhdC5uaWNrbmFtZSArICc6ICcgKyBjaGF0Lm1zZwogICAgICB2YXIgY2hhdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpCiAgICAgIGNoYXRJdGVtLmlubmVySFRNTCA9IHRwbAogICAgICBjaGF0SXRlbS5jbGFzc05hbWUgPSAnY2hhdC0nICsgY2hhdC54aWQKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoYXQtbGlzdCcpLmFwcGVuZENoaWxkKGNoYXRJdGVtKQogICAgfQogICAgLy8g5o6l5pS26IGK5aSp5L+h5oGvCiAgICBIVC5vbignY2hhdDpzZW5kJywgZnVuY3Rpb24gKGNoYXQpIHsKICAgICAgcmVjZWl2ZWRDaGF0KGNoYXQpCiAgICB9KQogICAgLy8g5Y+R6YCB6IGK5aSp5L+h5oGvCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhdFN1Ym1pdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY2hhdElwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0VmFsJykKICAgICAgdmFyIGNoYXRWYWx1ZSA9IGNoYXRJcHQudmFsdWUKICAgICAgSFQuZW1pdCgnY2hhdDpzZW5kJywgeyBtc2c6IGNoYXRWYWx1ZSB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5Y+R6YCB5oiQ5YqfCiAgICAgICAgaWYgKE51bWJlcihyZXMuY29kZSkgPT09IDApIHsKICAgICAgICAgIHJlY2VpdmVkQ2hhdChyZXMuZGF0YSkKICAgICAgICAgIGNoYXRJcHQudmFsdWUgPSAnJwogICAgICAgIH0gCiAgICAgICAgLy8g5Y+R6YCB5aSx6LSlCiAgICAgICAgZWxzZSB7CiAgICAgICAgICBjb25zb2xlLndhcm4ocmVzLm1zZykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LCBmYWxzZSkKICAgIC8vIEZsYXNo5o+S5Lu25byC5bi4CiAgICBIVC5vbignZmxhc2g6bG9hZDplcnJvcicsIGZ1bmN0aW9uIChvYmopIHsKICAgICAgaWYgKCFvYmouZmxhc2gpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxhc2hUaXAnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJwogICAgICB9CiAgICB9KQogICAgLy8g6K++56iL6ZSZ6K+v5L+h5oGvCiAgICBIVC5vbignbGl2ZTpjb3Vyc2U6YWNjZXNzOmVycm9yJywgZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmVycm9yKCfplJnor6/kv6Hmga8gPT0+JywgcmVzKQogICAgfSkKICAgIC8vIOivvueoi+mUmeivr+S/oeaBrwogICAgSFQub24oJ3N5c3RlbTpyb29tOmVycm9yJywgZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgdG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9hc3QnKQogICAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0b2FzdC5pbm5lckhUTUwgPSByZXMubXNnCiAgICAgIH0KICAgICAgZWxzZSBpZiAocmVzLm1zZykgewogICAgICAgIHRvYXN0LmlubmVySFRNTCA9IHJlcy5tc2cKICAgICAgfQogICAgICB0b2FzdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJwogICAgICB2YXIgX2xlZnQgPSB0b2FzdC5jbGllbnRXaWR0aCAvIDIKICAgICAgdG9hc3Quc3R5bGUubWFyZ2luTGVmdCA9IC1fbGVmdCArICdweCcKICAgIH0pCiAg"},{"version":3,"sources":["liveOnline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"liveOnline.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <van-image width=\"100%\" height=\"200\" src=\"https://cdn.uviewui.com/uview/swiper/1.jpg\" />\n         <!-- #toast -->\n  <div id=\"toast\"></div>\n  <!-- #wrap -->\n  <div class=\"wrapper\">\n    <!-- #画板播放器 -->\n    <div id=\"pptPlayer\">\n      <p id=\"loaddoc\">播放器 Loading...</p>\n    </div>\n    <!-- #摄像头模式 -->\n    <div id=\"cameraPlayer\">\n      <p id=\"loadcam\">摄像头 Loading...</p>\n    </div>\n    <!-- #桌面分享｜视频插播模式 -->\n    <div id=\"videoPlayer\">\n      <p id=\"loadplayer\">视频播放器 Loading...</p>\n    </div>\n  </div>\n  <!-- #chat -->\n  <div class=\"chat-wrap\">\n    <h4>聊天模块</h4>\n    <ul id=\"chat-list\" class=\"mod-chat-list\"></ul>\n    <label>\n      <input id=\"chatVal\" type=\"text\" /><button id=\"chatSubmit\">发送聊天</button>\n    </label>\n  </div>\n  </div>\n</template>\n\n<script>\n    // [第一步] 如何获取 access_token => http://open.talk-fun.com/docs/getstartV2/access_token.html\n    // [第二步] 根据Api文档方法 监听 / 调用方法 JS Api => http://open.talk-fun.com/docs/js/sdk.js.getstart.html\n    var url  = window.location.search\n\tvar token = url.split(\"=\")[1]\n\talert(token)\n\t//var token = 'QjMwcDZzYmYxczNidDZ5UjZzcTY5ATMkJjM2IzY1MGM8xHf9JyMzETN1gjMfdDMxQzMyEjI6ISZtFmbyJCLwojIhJCLdtlOiIHd0FmIsYDO5gzM2YDN2EjOiUWbpR3ZlJnIsISM3gTN1ETOzUjI6ICZphnIsMzN4MDN6ICZpBnIsAjOiQWanJCLzMTM1UDOyojIkl2XlNnc192YiwiIiojIyFGdhZXYiwCM6IiclRmbldmIsYDO5ATNxcDN2EjOiUmcpBHelJCL3ATM0MjMxojIklWbv9mciwiIxMjM3UHX3ITO1UHXiojIl1WYut2Yp5mIsIiclNXdiojIlx2byJCLiQTNiojIklWdiwyM3gzM0ojIkl2XyVmb0JXYwJye';\n    // 更多配置项 => https://open.talk-fun.com/docs/js/sdk.js.getstart.html?h=%E9%85%8D%E7%BD%AE%E9%A1%B9\n    var HT = new MT.SDK.main(token, {\n      config: {\n        techOrder: 'FLV' // Safari 浏览器建议设置为 HLS\n      }\n    }, function (data) {\n      console.warn('sdk加载完成', data)\n    })\n    // 连接状态\n    HT.on('connect', function () {\n      console.log('TalkFun通信 => 连接成功...')\n    })\n    // 课件播放器\n    HT.whiteboardPlayer('pptPlayer', 'docPlayer', function (player) {\n      console.log('课件播放器 => 初始化成功')\n      document.querySelector('#loadplayer').innerHTML = '画板模块加载完成'\n    })\n    // 视频插播 | 桌面分享\n    HT.videoPlayer('videoPlayer', 'modVideoplayer', function (player) {\n      console.log('视频播放器 => 初始化成功')\n      document.querySelector('#loadplayer').innerHTML = '视频插播加载完成'\n    })\n    // 摄像头播放器\n    HT.camera('cameraPlayer', 'modCameraPlayer', function () {\n      console.log('摄像头播放器 => 初始化成功')\n      document.querySelector('#loadcam').innerHTML = '摄像头模块加载完成'\n    })\n    // 接收聊天\n    var receivedChat = function (chat) {\n      var tpl = chat.nickname + ': ' + chat.msg\n      var chatItem = document.createElement('li')\n      chatItem.innerHTML = tpl\n      chatItem.className = 'chat-' + chat.xid\n      document.querySelector('#chat-list').appendChild(chatItem)\n    }\n    // 接收聊天信息\n    HT.on('chat:send', function (chat) {\n      receivedChat(chat)\n    })\n    // 发送聊天信息\n    document.querySelector('#chatSubmit').addEventListener('click', function () {\n      var chatIpt = document.querySelector('#chatVal')\n      var chatValue = chatIpt.value\n      HT.emit('chat:send', { msg: chatValue }, function (res) {\n        // 发送成功\n        if (Number(res.code) === 0) {\n          receivedChat(res.data)\n          chatIpt.value = ''\n        } \n        // 发送失败\n        else {\n          console.warn(res.msg)\n        }\n      })\n    }, false)\n    // Flash插件异常\n    HT.on('flash:load:error', function (obj) {\n      if (!obj.flash) {\n        document.querySelector('#flashTip').style.display = 'block'\n      }\n    })\n    // 课程错误信息\n    HT.on('live:course:access:error', function (res) {\n      console.error('错误信息 ==>', res)\n    })\n    // 课程错误信息\n    HT.on('system:room:error', function (res) {\n      var toast = document.querySelector('#toast')\n      if (typeof res === 'string') {\n        toast.innerHTML = res.msg\n      }\n      else if (res.msg) {\n        toast.innerHTML = res.msg\n      }\n      toast.style.display = 'block'\n      var _left = toast.clientWidth / 2\n      toast.style.marginLeft = -_left + 'px'\n    })\n  </script>\n<style lang=\"scss\" scoped>\n    * {\n      margin: 0;\n      padding: 0;\n      list-style-type: none;\n      font-family: \"Microsoft YaHei\", \"STHeiti\";\n    }\n    .flash-wran {\n      display: none;\n      position: absolute;\n      top: 0;\n      width: 100%;\n      padding: 5px 0;\n      text-align: center;\n      background: #fff6a2;\n      border: 1px solid #ffd913;\n    }\n    .flash-wran a {\n      color: red;\n    }\n    .wrapper {\n      /*display: flex;*/\n      padding: 10px;\n    }\n    #cameraPlayer, \n    #pptPlayer {\n      height: auto;\n      flex: 1;\n      text-align: center;\n      font-size: 12px;\n      overflow: hidden;\n    }\n    #pptPlayer {\n      height: 300px;\n      width: 100%;\n    }\n    #modPptPlayer,\n    #modCameraPlayer {\n      margin-top: 10px;\n      border: 1px solid #c7c7c7;\n    }\n    .chat-wrap {\n      padding: 5px;\n      margin: 10px;\n      border: 2px solid #cccccc;\n      background: #f1f1f1\n    }\n    .mod-chat-list {\n      margin: 20px 0;\n      border: 1px solid #CCCCCC;\n      min-height: 100px;\n      font-size: 12px;\n      background: #dedede;\n      padding: 5px;\n      max-height: 200px;\n      overflow-y: scroll;\n    }\n    .mod-chat-list li {\n      padding: 2px 0;\n      margin-bottom: 5px;\n      border-bottom: 1px dotted #CCCCCC;\n    }\n    input {\n      display: inline-block;\n      width: 200px;\n      padding: 5px;\n    }\n    button {\n      display: inline-block;\n      padding: 5px;\n      margin-left: 5px;\n    }\n    #toast {\n      padding: 20px;\n      position: fixed;\n      z-index: 100;\n      display: none;\n      background: rgba(212, 28, 28, 0.8);\n      left: 50%;\n      top: 30%;\n      border-radius: 50em;\n      font-size: 14px;\n      color: #FFFFFF;\n      box-shadow: 0 0 6px 0px #bb2d2d;\n    }\n    #talkfun-video-wrap, #talkfun-camera-wrap {\n      position: relative;\n      background: #000;\n    }\n  </style>\n"]}]}