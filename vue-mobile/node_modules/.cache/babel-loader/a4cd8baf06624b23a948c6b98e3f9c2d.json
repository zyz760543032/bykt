{"remainingRequest":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\vscode\\glkt\\vue-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\vscode\\glkt\\vue-mobile\\src\\utils\\request.js","dependencies":[{"path":"D:\\vscode\\glkt\\vue-mobile\\src\\utils\\request.js","mtime":1646619710605},{"path":"D:\\vscode\\glkt\\vue-mobile\\babel.config.js","mtime":1638838456000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8vIOWIm+W7umF4aW9z5a6e5L6LCgp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9nZ2t0LnZpcGd6MS45MXR1bm5lbC5jb20nLAogIC8vIGFwaSDnmoQgYmFzZV91cmwKICAvL2Jhc2VVUkw6ICdodHRwOi8vZ2xrdC1hcGkuYXRndWlndS5jbicsCiAgdGltZW91dDogMzAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsgLy8gaHR0cCByZXF1ZXN0IOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJzsKCiAgaWYgKHRva2VuICE9ICcnKSB7CiAgICBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IHRva2VuOyAvLyAnZXlKaGJHY2lPaUpJVXpVeE1pSXNJbnBwY0NJNklrZGFTVkFpZlEuSDRzSUFBQUFBQUFBQUt0V0tpNU5VckpTQ2pBSzBBME5kZzFTMGxGS3JTaFFzakkwTXpZM01UUXhNVGJXVVNvdFRpM3lUQUdLUVpoLWlibXBRQjFLdFFBUmtqeXBQQUFBQUEuQjZkemlYV3hjYzJtSVlZYURRblhCMXQwSUh3UUstR3dXTkZzQVEwWjdDYkNCVmIxMXVvTmpvaldZb3RDOFlFZGxWVzlBaHRxOTlMV3R6MV9XYmhobHcnOy8vY29va2llLmdldCgnZ3VsaV90b2tlbicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsgLy8gaHR0cCByZXNwb25zZSDmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwOCkgewogICAgZGVidWdnZXI7IC8vIOabv+aNoiMg5ZCO5Y+w6I635Y+W5LiN5YiwI+WQjumdoueahOWPguaVsAoKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKCcjJywgJ2d1aWd1a2V0YW4nKTsKICAgIHdpbmRvdy5sb2NhdGlvbiA9ICdodHRwOi8vZ2drdC52aXBnejEuOTF0dW5uZWwuY29tL2FwaS91c2VyL3dlY2hhdC9hdXRob3JpemU/cmV0dXJuVXJsPScgKyB1cmw7CiAgfSBlbHNlIHsKICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlLmRhdGE6IiArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICdlcnJvcicpOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogICAgfQogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yLnJlc3BvbnNlKTsgLy8g6L+U5Zue5o6l5Y+j6L+U5Zue55qE6ZSZ6K+v5L+h5oGvCn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["D:/vscode/glkt/vue-mobile/src/utils/request.js"],"names":["axios","service","create","baseURL","timeout","interceptors","request","use","config","token","window","localStorage","getItem","headers","err","Promise","reject","response","data","code","url","location","href","replace","console","log","JSON","stringify","alert","message","error"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,iCADgB;AACmB;AAC5C;AACAC,EAAAA,OAAO,EAAE,KAHgB,CAGV;;AAHU,CAAb,CAAhB,C,CAOA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACnC,MAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,KAAwC,EAApD;;AACA,MAAIH,KAAK,IAAI,EAAb,EAAiB;AACbD,IAAAA,MAAM,CAACK,OAAP,CAAe,OAAf,IAA0BJ,KAA1B,CADa,CACoB;AACpC;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAAAM,GAAG,EAAI;AACH,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CATL,E,CAUA;;AACAb,OAAO,CAACI,YAAR,CAAqBY,QAArB,CAA8BV,GAA9B,CAAkC,UAAAU,QAAQ,EAAI;AACtC,MAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAd,IAAsB,GAA1B,EAA+B;AAC3B,aAD2B,CAE3B;;AACA,QAAIC,GAAG,GAAGV,MAAM,CAACW,QAAP,CAAgBC,IAAhB,CAAqBC,OAArB,CAA6B,GAA7B,EAAkC,YAAlC,CAAV;AACAb,IAAAA,MAAM,CAACW,QAAP,GAAkB,yEAAyED,GAA3F;AACH,GALD,MAKO;AACH,QAAIH,QAAQ,CAACC,IAAT,CAAcC,IAAd,IAAsB,GAA1B,EAA+B;AAC3B,aAAOF,QAAQ,CAACC,IAAhB;AACH,KAFD,MAEO;AACHM,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBC,IAAI,CAACC,SAAL,CAAeV,QAAQ,CAACC,IAAxB,CAA/B;AACAU,MAAAA,KAAK,CAACX,QAAQ,CAACC,IAAT,CAAcW,OAAd,IAAyB,OAA1B,CAAL;AACA,aAAOd,OAAO,CAACC,MAAR,CAAeC,QAAf,CAAP;AACH;AACJ;AACJ,CAfL,EAgBI,UAAAa,KAAK,EAAI;AACL,SAAOf,OAAO,CAACC,MAAR,CAAec,KAAK,CAACb,QAArB,CAAP,CADK,CACmC;AAC3C,CAlBL;AAoBA,eAAehB,OAAf","sourcesContent":["import axios from 'axios'\n\n// 创建axios实例\nconst service = axios.create({\n    baseURL: 'http://ggkt.vipgz1.91tunnel.com', // api 的 base_url\n    //baseURL: 'http://glkt-api.atguigu.cn',\n    timeout: 30000 // 请求超时时间\n\n})\n\n// http request 拦截器\nservice.interceptors.request.use(config => {\n        let token = window.localStorage.getItem('token') || '';\n        if (token != '') {\n            config.headers['token'] = token; // 'eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAAKtWKi5NUrJSCjAK0A0Ndg1S0lFKrShQsjI0MzY3MTQxMTbWUSotTi3yTAGKQZh-ibmpQB1KtQARkjypPAAAAA.B6dziXWxcc2mIYYaDQnXB1t0IHwQK-GwWNFsAQ0Z7CbCBVb11uoNjojWYotC8YEdlVW9Ahtq99LWtz1_Wbhhlw';//cookie.get('guli_token');\n        }\n        return config\n    },\n    err => {\n        return Promise.reject(err);\n    })\n// http response 拦截器\nservice.interceptors.response.use(response => {\n        if (response.data.code == 208) {\n            debugger\n            // 替换# 后台获取不到#后面的参数\n            let url = window.location.href.replace('#', 'guiguketan')\n            window.location = 'http://ggkt.vipgz1.91tunnel.com/api/user/wechat/authorize?returnUrl=' + url\n        } else {\n            if (response.data.code == 200) {\n                return response.data\n            } else {\n                console.log(\"response.data:\" + JSON.stringify(response.data))\n                alert(response.data.message || 'error')\n                return Promise.reject(response)\n            }\n        }\n    },\n    error => {\n        return Promise.reject(error.response)   // 返回接口返回的错误信息\n    });\n\nexport default service\n"]}]}