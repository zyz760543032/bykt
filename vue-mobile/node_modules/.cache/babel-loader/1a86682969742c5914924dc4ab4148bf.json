{"remainingRequest":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\vscode\\ggkt\\vue-mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\vscode\\ggkt\\vue-mobile\\src\\utils\\request.js","dependencies":[{"path":"D:\\vscode\\ggkt\\vue-mobile\\src\\utils\\request.js","mtime":1651887454188},{"path":"D:\\vscode\\ggkt\\vue-mobile\\babel.config.js","mtime":1638838456000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\ggkt\\vue-mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8vIOWIm+W7umF4aW9z5a6e5L6LCgp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9nZ2t0LnZpcGd6MS45MXR1bm5lbC5jb20nLAogIC8vIGFwaSDnmoQgYmFzZV91cmwKICAvL2Jhc2VVUkw6ICdodHRwOi8vZ2xrdC1hcGkuYXRndWlndS5jbicsCiAgdGltZW91dDogMzAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsgLy8gaHR0cCByZXF1ZXN0IOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8v6I635Y+WbG9jYWxTdG9yYWdl6YeM6Z2i55qEdG9rZW7lgLwKICB2YXIgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJyc7CgogIGlmICh0b2tlbiAhPSAnJykgewogICAgLy/miop0b2tlbuWAvOaUvuWIsGhlYWRlcumHjOmdogogICAgY29uZmlnLmhlYWRlcnNbJ3Rva2VuJ10gPSB0b2tlbjsgLy8gJ2V5SmhiR2NpT2lKSVV6VXhNaUlzSW5wcGNDSTZJa2RhU1ZBaWZRLkg0c0lBQUFBQUFBQUFLdFdLaTVOVXJKU0NqQUswQTBOZGcxUzBsRktyU2hRc2pJME16WTNNVFF4TVRiV1VTb3RUaTN5VEFHS1FaaC1pYm1wUUIxS3RRQVJranlwUEFBQUFBLkI2ZHppWFd4Y2MybUlZWWFEUW5YQjF0MElId1FLLUd3V05Gc0FRMFo3Q2JDQlZiMTF1b05qb2pXWW90QzhZRWRsVlc5QWh0cTk5TFd0ejFfV2JoaGx3JzsvL2Nvb2tpZS5nZXQoJ2d1bGlfdG9rZW4nKTsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7IC8vIGh0dHAgcmVzcG9uc2Ug5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDgpIHsKICAgIC8vZGVidWdnZXIKICAgIC8vIOabv+aNoiMg5ZCO5Y+w6I635Y+W5LiN5YiwI+WQjumdoueahOWPguaVsAogICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoJyMnLCAnZ3VpZ3VrZXRhbicpOwogICAgd2luZG93LmxvY2F0aW9uID0gJ2h0dHA6Ly9nZ2t0LnZpcGd6MS45MXR1bm5lbC5jb20vYXBpL3VzZXIvd2VjaGF0L2F1dGhvcml6ZT9yZXR1cm5Vcmw9JyArIHVybDsKICB9IGVsc2UgewogICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDAwMCkgewogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZS5kYXRhOiIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAnZXJyb3InKTsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKTsKICAgIH0KICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZSk7IC8vIOi/lOWbnuaOpeWPo+i/lOWbnueahOmUmeivr+S/oeaBrwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["D:/vscode/ggkt/vue-mobile/src/utils/request.js"],"names":["axios","service","create","baseURL","timeout","interceptors","request","use","config","token","window","localStorage","getItem","headers","err","Promise","reject","response","data","code","url","location","href","replace","console","log","JSON","stringify","alert","message","error"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,iCADgB;AACmB;AAC5C;AACAC,EAAAA,OAAO,EAAE,KAHgB,CAGV;;AAHU,CAAb,CAAhB,C,CAOA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACnC;AACA,MAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,KAAwC,EAApD;;AACA,MAAIH,KAAK,IAAI,EAAb,EAAiB;AACb;AACAD,IAAAA,MAAM,CAACK,OAAP,CAAe,OAAf,IAA0BJ,KAA1B,CAFa,CAEoB;AACpC;;AACD,SAAOD,MAAP;AACH,CARL,EASI,UAAAM,GAAG,EAAI;AACH,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAXL,E,CAYA;;AACAb,OAAO,CAACI,YAAR,CAAqBY,QAArB,CAA8BV,GAA9B,CAAkC,UAAAU,QAAQ,EAAI;AACtC,MAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAd,IAAsB,GAA1B,EAA+B;AAC3B;AACA;AACA,QAAIC,GAAG,GAAGV,MAAM,CAACW,QAAP,CAAgBC,IAAhB,CAAqBC,OAArB,CAA6B,GAA7B,EAAkC,YAAlC,CAAV;AACAb,IAAAA,MAAM,CAACW,QAAP,GAAkB,yEAAyED,GAA3F;AACH,GALD,MAKO;AACH,QAAIH,QAAQ,CAACC,IAAT,CAAcC,IAAd,IAAsB,KAA1B,EAAiC;AAC7B,aAAOF,QAAQ,CAACC,IAAhB;AACH,KAFD,MAEO;AACHM,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBC,IAAI,CAACC,SAAL,CAAeV,QAAQ,CAACC,IAAxB,CAA/B;AACAU,MAAAA,KAAK,CAACX,QAAQ,CAACC,IAAT,CAAcW,OAAd,IAAyB,OAA1B,CAAL;AACA,aAAOd,OAAO,CAACC,MAAR,CAAeC,QAAf,CAAP;AACH;AACJ;AACJ,CAfL,EAgBI,UAAAa,KAAK,EAAI;AACL,SAAOf,OAAO,CAACC,MAAR,CAAec,KAAK,CAACb,QAArB,CAAP,CADK,CACmC;AAC3C,CAlBL;AAoBA,eAAehB,OAAf","sourcesContent":["import axios from 'axios'\n\n// 创建axios实例\nconst service = axios.create({\n    baseURL: 'http://ggkt.vipgz1.91tunnel.com', // api 的 base_url\n    //baseURL: 'http://glkt-api.atguigu.cn',\n    timeout: 30000 // 请求超时时间\n\n})\n\n// http request 拦截器\nservice.interceptors.request.use(config => {\n        //获取localStorage里面的token值\n        let token = window.localStorage.getItem('token') || '';\n        if (token != '') {\n            //把token值放到header里面\n            config.headers['token'] = token; // 'eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAAKtWKi5NUrJSCjAK0A0Ndg1S0lFKrShQsjI0MzY3MTQxMTbWUSotTi3yTAGKQZh-ibmpQB1KtQARkjypPAAAAA.B6dziXWxcc2mIYYaDQnXB1t0IHwQK-GwWNFsAQ0Z7CbCBVb11uoNjojWYotC8YEdlVW9Ahtq99LWtz1_Wbhhlw';//cookie.get('guli_token');\n        }\n        return config\n    },\n    err => {\n        return Promise.reject(err);\n    })\n// http response 拦截器\nservice.interceptors.response.use(response => {\n        if (response.data.code == 208) {\n            //debugger\n            // 替换# 后台获取不到#后面的参数\n            let url = window.location.href.replace('#', 'guiguketan')\n            window.location = 'http://ggkt.vipgz1.91tunnel.com/api/user/wechat/authorize?returnUrl=' + url\n        } else {\n            if (response.data.code == 20000) {\n                return response.data\n            } else {\n                console.log(\"response.data:\" + JSON.stringify(response.data))\n                alert(response.data.message || 'error')\n                return Promise.reject(response)\n            }\n        }\n    },\n    error => {\n        return Promise.reject(error.response)   // 返回接口返回的错误信息\n    });\n\nexport default service\n"]}]}