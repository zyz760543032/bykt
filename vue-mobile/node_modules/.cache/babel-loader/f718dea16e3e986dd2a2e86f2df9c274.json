{"remainingRequest":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vscode\\glkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode\\glkt\\vue-mobile\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode\\glkt\\vue-mobile\\src\\App.vue","mtime":1646620189242},{"path":"D:\\vscode\\glkt\\vue-mobile\\babel.config.js","mtime":1638838456000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vscode\\glkt\\vue-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHVzZXJJbmZvQXBpIGZyb20gJ0AvYXBpL3VzZXJJbmZvJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiB0cnVlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOWkhOeQhuW+ruS/oeaOiOadg+eZu+W9lQogICAgdGhpcy53ZWNoYXRMb2dpbigpOwogIH0sCiAgbWV0aG9kczogewogICAgd2VjaGF0TG9naW46IGZ1bmN0aW9uIHdlY2hhdExvZ2luKCkgewogICAgICAvLyDlpITnkIblvq7kv6HmjojmnYPnmbvlvZUKICAgICAgdmFyIHRva2VuID0gdGhpcy5nZXRRdWVyeVN0cmluZygndG9rZW4nKSB8fCAnJzsKCiAgICAgIGlmICh0b2tlbiAhPSAnJykgewogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgIH0gLy8g5omA5pyJ6aG16Z2i6YO95b+F6aG755m75b2V77yM5Lik5qyh6LCD5pW055m75b2V77yM6L+Z6YeM5LiO5o6l5Y+j6L+U5ZueMjA454q25oCBCgoKICAgICAgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJyc7CgogICAgICBpZiAodG9rZW4gPT0gJycpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgnIycsICdndWlndWtldGFuJyk7CiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJ2h0dHA6Ly9nZ2t0LnZpcGd6MS45MXR1bm5lbC5jb20vYXBpL3VzZXIvd2VjaGF0L2F1dGhvcml6ZT9yZXR1cm5Vcmw9JyArIHVybDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ3Rva2VuMu+8micgKyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpOyAvL+e7keWumuaJi+acuuWPt+WkhOeQhgogICAgICAvLyBpZih0b2tlbiAhPSAnJykgewogICAgICAvLyAgICAgdGhpcy5iaW5kUGhvbmUoKTsKICAgICAgLy8gfQogICAgfSwKICAgIGJpbmRQaG9uZTogZnVuY3Rpb24gYmluZFBob25lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHVzZXJJbmZvU3RyaW5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpIHx8ICcnOwogICAgICBhbGVydCgnMzonICsgdXNlckluZm9TdHJpbmcpOwoKICAgICAgaWYgKHVzZXJJbmZvU3RyaW5nICE9ICcnKSB7CiAgICAgICAgYWxlcnQoJzQ6JyArIHVzZXJJbmZvU3RyaW5nKTsKICAgICAgICB2YXIgdXNlckluZm8gPSBKU09OLnBhcnNlKHVzZXJJbmZvU3RyaW5nKTsKICAgICAgICB2YXIgcGhvbmUgPSB1c2VySW5mby5waG9uZSB8fCAnJzsKCiAgICAgICAgaWYgKHBob25lID09ICcnKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcvYmluZEZpcnN0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCc1OicgKyB1c2VySW5mb1N0cmluZyk7CiAgICAgICAgdXNlckluZm9BcGkuZ2V0Q3VycmVudFVzZXJJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICBhbGVydCgnNjonICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgdmFyIHBob25lID0gcmVzcG9uc2UuZGF0YS5waG9uZSB8fCAnJzsKICAgICAgICAgIGNvbnNvbGUubG9nKCdwaG9uZTonICsgcGhvbmUpOwoKICAgICAgICAgIGlmIChwaG9uZSA9PSAnJykgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICcvYmluZEZpcnN0JwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldFF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZyhwYXJhbU5hbWUpIHsKICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSA9PSAtMSkgcmV0dXJuICcnOwogICAgICB2YXIgc2VhcmNoU3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKVsxXTsKICAgICAgdmFyIGksCiAgICAgICAgICB2YWwsCiAgICAgICAgICBwYXJhbXMgPSBzZWFyY2hTdHJpbmcuc3BsaXQoIiYiKTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YWwgPSBwYXJhbXNbaV0uc3BsaXQoIj0iKTsKCiAgICAgICAgaWYgKHZhbFswXSA9PSBwYXJhbU5hbWUpIHsKICAgICAgICAgIHJldHVybiB2YWxbMV07CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgY2xlYXJEYXRhOiBmdW5jdGlvbiBjbGVhckRhdGEoKSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCAnJyk7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCAnJyk7CiAgICAgIHZhciB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgYWxlcnQoJ3Rva2VuOicgKyB0b2tlbik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n<!--      <router-link to=\"/\">列表页</router-link> |-->\n<!--      <router-link to=\"/info\">详情页</router-link> |-->\n<!--      <router-link to=\"/list\">列表页</router-link> |-->\n<!--      <router-link to=\"/order\">下单页</router-link>-->\n        <van-button round block type=\"info\" @click=\"clearData\">提交</van-button>\n    </div>\n    <router-view />\n  </div>\n</template>\n<script>\nimport userInfoApi from '@/api/userInfo'\nexport default {\n    data() {\n        return {\n            show: true\n        };\n    },\n\n    created() {\n        // 处理微信授权登录\n        this.wechatLogin();\n    },\n\n    methods: {\n        wechatLogin() {\n            // 处理微信授权登录\n            let token = this.getQueryString('token') || '';\n            if(token != '') {\n                window.localStorage.setItem('token', token);\n            }\n\n            // 所有页面都必须登录，两次调整登录，这里与接口返回208状态\n            token = window.localStorage.getItem('token') || '';\n            if (token == '') {\n                let url = window.location.href.replace('#', 'guiguketan')\n                window.location = 'http://ggkt.vipgz1.91tunnel.com/api/user/wechat/authorize?returnUrl=' + url\n            }\n            console.log('token2：'+window.localStorage.getItem('token'));\n\n            //绑定手机号处理\n            // if(token != '') {\n            //     this.bindPhone();\n            // }\n        },\n\n        bindPhone() {\n            let userInfoString = window.localStorage.getItem('userInfo') || '';\n            alert('3:'+userInfoString);\n            if(userInfoString!='') {\n                alert('4:'+userInfoString);\n                let userInfo = JSON.parse(userInfoString)\n                let phone = userInfo.phone || '';\n                if(phone == '') {\n                    this.$router.push({ path: '/bindFirst' })\n                }\n            } else {\n                alert('5:'+userInfoString);\n                userInfoApi.getCurrentUserInfo().then(response => {\n                    window.localStorage.setItem('userInfo', JSON.stringify(response.data));\n                    alert('6:'+JSON.stringify(response.data));\n                    let phone = response.data.phone || '';\n                    console.log('phone:'+phone);\n                    if(phone == '') {\n                        this.$router.push({ path: '/bindFirst' })\n                    }\n                })\n            }\n        },\n\n        getQueryString (paramName) {\n            if(window.location.href.indexOf('?') == -1) return '';\n\n            let searchString = window.location.href.split('?')[1];\n            let i, val, params = searchString.split(\"&\");\n\n            for (i=0;i<params.length;i++) {\n                val = params[i].split(\"=\");\n                if (val[0] == paramName) {\n                    return val[1];\n                }\n            }\n            return '';\n        },\n\n        clearData() {\n            window.localStorage.setItem('token', '');\n            window.localStorage.setItem('userInfo', '');\n            let token = window.localStorage.getItem('token');\n            alert('token:'+token);\n        }\n    }\n};\n</script>\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n"],"sourceRoot":"src"}]}